<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dom 4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../fontawesome-free-6.5.1-web/css/all.css">
    <style>
        .div-class {
            display: flex;
            flex-direction: row;
            margin-top: 20px;
            margin-left: 10px;
            justify-content: space-evenly;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-dark ">
        <div class="container-fluid">
            <a href="#" class="navbar-brand text-center">Employee Information</a>
        </div>
    </nav>
    <br><br>
    <div class="container-fluid mt-4">
        <input type="text" class="form-control text-center" id="Search-tag" placeholder="Enter the employee Name" value="">
    </div>
    <div class="div-class" id='second-div'>
        <button class="btn btn-primary btn-lg" id="all-btn">All Emps</button>
        <button class="btn btn-primary btn-lg" id="male-btn">Male Emps</button>
        <button class="btn btn-primary btn-lg" id="female-btn">Female Emps</button>

    </div>
    <section>
        <div class="container-fluid mt-4 ">
            <div class="row ">
                <div class="col">
                    <div class="card ">
                        <div class="card-header text-center text-primary">
                            <h2>Employee details</h2>
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Id</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">Gender</th>
                                    <th scope="col">Salary</th>
                                    <th scope="col">Role</th>
                                    <th scope="col">Company</th>
                                </tr>
                            </thead>
                            <tbody id="emp-data">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>  
    <script>
        let emp_details = [
            {
                empid: 'aw23',
                empname: 'Alisha Juneja',
                gender: 'Female',
                salary: 45000,
                role: 'Junior CopyWriter',
                company: 'Web Chutney'
            },
            {
                empid: 'aw33',
                empname: 'Justin Moxely',
                gender: 'Male',
                salary: 40000,
                role: 'Paralegal',
                company: 'Samsung'
            },
            {
                empid: 'aw78',
                empname: 'Neetu Devar',
                gender: 'Female',
                salary: 80000,
                role: 'Associate Lawyer',
                company: 'Pearson and Hardman'
            },
            {
                empid: 'aw10',
                empname: 'Rishab Saini',
                gender: 'Male',
                salary: 93200,
                role: 'Senior Partner',
                company: 'Pearson Hardman'
            },
            {
                empid: 'aw78',
                empname: 'Junaid Khan',
                gender: 'Male',
                salary: 10000,
                role: 'Devops Intern',
                company: 'Zetwork'
            },
            {
                empid: 'aw100',
                empname: 'Licha Nair',
                gender: 'Female',
                salary: 34000,
                role: 'Devops Intern',
                company: 'Zetwork'

            }];
            console.log(emp_details.length);
        let AllBtn = document.getElementById('all-btn');
        let MaleBtn = document.getElementById('male-btn');
        let FemaleBtn = document.getElementById('female-btn');
        let SearchInput=document.getElementById('Search-tag')
        let male_filtered = emp_details.filter((n) => {
            return n.gender === 'Male';
        })
        let female_filtered = emp_details.filter((n) => {
            return n.gender === 'Female';
        })
        

        let display_prod1 = function (emps) {
            if(emps.length>0){
                let eachEmp=``;
                for(let emp of emps){
                    eachEmp+=`
                    <tr>
                        <td>${emp.empid}</td>
                        <td>${emp.empname}</td>
                        <td>${emp.gender}</td>
                        <td>${emp.salary}</td>
                        <td>${emp.role}</td>
                        <td>${emp.company}</td>
                    </tr>`
                }
                document.getElementById('emp-data').innerHTML = eachEmp;
            }
        }
        AllBtn.addEventListener('click',()=>{display_prod1(emp_details)});
        MaleBtn.addEventListener('click',()=>{display_prod1(male_filtered)});
        FemaleBtn.addEventListener('click',()=>{display_prod1(female_filtered)});
        SearchInput.addEventListener('keypress',()=>{
            let enteredName=SearchInput.value;
            console.log(enteredName);
            let searchedData=filteredData(enteredName,emp_details)
            display_prod1(searchedData)
        })       
        let filteredData=(empName,emps)=>{
            empName=empName.toUpperCase().trim();
            console.log(empName);
            let filtered_text=[];
            for(let emp of emps){
                let Original=emp.empname.toUpperCase().trim();
                if(Original.startsWith(empName)){
                    filtered_text.push(emp)
                }
            }
            return filtered_text;
        }


    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>